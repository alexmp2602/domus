---
const images = [
  {
    before: "/img/gallery/before-1.webp",
    after: "/img/gallery/after-1.webp",
    alt: "Tratamiento facial 1",
  },
  {
    before: "/img/gallery/before-2.webp",
    after: "/img/gallery/after-2.webp",
    alt: "Tratamiento facial 2",
  },
  {
    before: "/img/gallery/before-3.webp",
    after: "/img/gallery/after-3.webp",
    alt: "Tratamiento corporal",
  },
];
---

<section class="px-6 py-16 max-w-7xl mx-auto" id="resultados">
  <h2
    class="text-3xl sm:text-4xl font-semibold text-center mb-12 text-[#D799B9] fade-simple"
  >
    Resultados Reales
  </h2>

  <p class="text-center mt-10 text-sm text-gray-500">
    Tocá para ver la diferencia
  </p>

  <div class="grid gap-10 sm:grid-cols-2 lg:grid-cols-3">
    {
      images.map(({ before, after, alt }) => (
        <figure class="group relative fade-simple">
          <div class="overflow-hidden rounded-xl shadow-md aspect-[3/4]">
            <img
              src={before}
              alt={`${alt} - Antes`}
              loading="lazy"
              width="400"
              height="533"
              class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition duration-500"
            />
          </div>
          <figcaption class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition duration-500 backdrop-blur-md rounded-xl pointer-events-none group-[.show-after]:opacity-100">
            <img
              src={after}
              alt={`${alt} - Después`}
              loading="lazy"
              width="400"
              height="533"
              class="w-full h-full object-cover rounded-xl"
            />
          </figcaption>
        </figure>
      ))
    }
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const figures = document.querySelectorAll("figure.group");

    figures.forEach((figure) => {
      figure.addEventListener("click", () => {
        figure.classList.toggle("show-after");
      });
    });
  });
</script>
